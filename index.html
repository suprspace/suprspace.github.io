<!DOCTYPE html>

<!--Copyright 2021-->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content= "ie=edge">
    <title>UN 1.0</title>
    
    <script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    
    
</head>
    
<script>
  
$('body').append('<div id="loadingDiv"></div>');
$(window).on('load', function(){
  setTimeout(removeLoader, 100);
});
function removeLoader(){
    $( "#loadingDiv" ).fadeOut(1500, function() {
        $('html, body').css({overflow: 'hidden'});

      $('html, body').css({overflow: 'visible'});
 
      $( "#loadingDiv" ).remove();
  });  
}
    
</script>


<style>
    :root {
        --pixel-size: 10px;
        --grid-cell: calc(var(--pixel-size)*16);
        --bg: grey;
    }
    @media(max-width: 900px) {
        :root {
            --pixel-size: 7.5px;
        }
    }
    @media(max-width: 700px) {
        :root {
            --pixel-size: 5px;
        }
    }
    html {
        max-width: 100%;
        max-height: 100%;
        overflow: hidden;
        background-color: #000;
        color: #fff;
    }
    body {
        background-color: #000;
        touch-action: manipulation;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none;
    }
    .map {
        position: absolute;
        image-rendering: pixelated;
        background-image: url("/grass.png");
        background-size: 100%;
        width: calc(4*var(--grid-cell));
        height: calc(4*var(--grid-cell));
    }
    #loadingDiv {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 11;
    }
    .loader,
    .loader:after {
        
    }
    .holder {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        height: calc(5*var(--grid-cell));
        width: calc(5*var(--grid-cell));
        border: 1px solid #fff;
        border-radius: calc(.2*var(--grid-cell));
        top: 5%;
        left: 50%;
        transform: translate(-50%);
    }
    .container {
        position: absolute;
        z-index: 9;
        border: 1px solid lightgrey;
        height: calc(var(--grid-cell)*1);
        width: calc(var(--grid-cell)*1);
        top: calc(var(--grid-cell)*1);
        left: 0;
        right: 0;
        margin: auto;
    }
    #circle {
        z-index: 9;
        position: absolute;
        height: calc(var(--grid-cell)*1);
        width: calc(var(--grid-cell)*1);
        background-image: url("astro.png");
        image-rendering: pixelated;
        background-size: 100%;
    }
    .circle.move {
        transition: 1s steps(15);
    }
    #box {
        position: absolute;
        height: calc(var(--grid-cell)*4);
        width: calc(var(--grid-cell)*4);
        background: slateblue;
        opacity: 0%;
    }
    #uppad {
        position: absolute;
        top: 80%;
        left: 75%;
        width: 35px;
        height: 35px;
        background: transparent;
        border: 1px solid #fff;
        box-shadow: inset 0 0 10px #fff;
        border-radius: 3px;
        transform: rotate(45deg);
        margin-top: -30px;
    }
    #dnpad {
        position: absolute;
        top: 80%;
        left: 75%;
        width: 35px;
        height: 35px;
        background: transparent;
        border: 1px solid #fff;
        box-shadow: inset 0 0 10px #fff;
        border-radius: 3px;
        transform: rotate(225deg);
        margin-top: 30px;
    }
    #lpad {
        position: absolute;
        top: 80%;
        left: 75%;
        width: 35px;
        height: 35px;
        background: transparent;
        border: 1px solid #fff;
        box-shadow: inset 0 0 10px #fff;
        border-radius: 3px;
        transform: rotate(-45deg);
        margin-left: -30px;
    }
    #rpad {
        position: absolute;
        top: 80%;
        left: 75%;
        width: 35px;
        height: 35px;
        background: transparent;
        border: 1px solid #fff;
        box-shadow: inset 0 0 10px #fff;
        border-radius: 3px;
        transform: rotate(135deg);
        margin-left: 30px;
    }
    button {
        background: none;
        border: none;
    }
    .dpad {
        position: fixed;
        width: 0;
        height: 0;
        top: 80%;
        left: 75%;
        transform: translate(-50%,-50%) rotate(45deg);
        margin-left: 10px;
        margin-top: 10px;
    }
    #mobiledisable {
        display: none;
    }
    @media only screen and (max-width: 800px) {
        #mobiledisable {
            display: block;
        }
    }
    #collide {
        position: absolute;
        width: calc(var(--grid-cell)*1);
        height: calc(var(--grid-cell)*1);
        background: linear-gradient(#000, red, yellow);
    }
    #camera {
        position: fixed;
        width: calc(var(--grid-cell)*4);
        height: calc(var(--grid-cell)*4);
        left: 0;
        right: 0;
        margin: auto;
        border: 1px solid white;
        pointer-events: none;
    }
    .camera.move {
        transition: 1s steps(15);
    }
    .daynightcycle {
    position: fixed;
        pointer-events: none;
    width: auto;
    height: auto;
    z-index: 10;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        opacity: 50%;
    background: linear-gradient(180deg, #c0d3ff, #bdebff, #ffe68b, #ffbd00, #ff9000, #ff3600, #bc5ee1, #7c5ee1, #2b0089, #006fb4, #00ab75, #1100ba, #7d00ff, #080051);
    background-size: 2800% 2800%;

    -webkit-animation: AnimationName 120s ease infinite;
    -moz-animation: AnimationName 120s ease infinite;
    animation: AnimationName 120s ease infinite;
}

@-webkit-keyframes AnimationName {
    0%{background-position:52% 0%}
    50%{background-position:49% 100%}
    100%{background-position:52% 0%}
}
@-moz-keyframes AnimationName {
    0%{background-position:52% 0%}
    50%{background-position:49% 100%}
    100%{background-position:52% 0%}
}
@keyframes AnimationName {
    0%{background-position:52% 0%}
    50%{background-position:49% 100%}
    100%{background-position:52% 0%}
}

</style>
    
<body>
    
    
    <div id="loadingDiv"></div>

    
    <div class="daynightcycle" style="mix-blend-mode: color-burn; opacity: 10%;"></div>
    <div class="daynightcycle" style="mix-blend-mode: multiply; opacity: 20%;"></div>
    <div class="daynightcycle" style="mix-blend-mode: soft-light;"></div>
    

    <div class="holder">
    
    <!--<div class="container">-->
    <div class="circle" id="circle" style="margin:auto;top:0;left:0;right:0;bottom:0;border:1px solid red;"></div>
    <!--</div>-->


    <div id="camera" class="camera">
        

    <div class="map"></div>


    <div id="collide" style="top: calc(var(--grid-cell)*1); left: calc(var(--grid-cell)*3);"></div>
    </div>
    
  
    <div class="box" id="box"></div>

    </div>
    
<div id="mobiledisable">
    <div class="dpad"></div>
    
<button id="uppad" ontouchstart="start1()" ontouchend="end1()"></button>
<button id="dnpad" ontouchstart="start2()" ontouchend="end2()"></button>
<button id="lpad" ontouchstart="start3()" ontouchend="end3()"></button>
<button id="rpad" ontouchstart="start4()" ontouchend="end4()"></button>
    
<p id="counter" style="color: transparent;"></p>
    </div>
    
    
    
    <p id="compass"></p>
    <p id="gridtop"></p>
    <p id="gridbottom"></p>
    <p id="gridleft"></p>
    <p id="gridright"></p>
<!--
3=up 4=down 1=left 2=right
-->
    
</body>
    
    
<script>
    
    var circle = document.getElementById("circle");
    var box = document.getElementById("box");
    
    var camera = document.getElementById("camera");
    
    var collide = document.getElementById("collide");
    
      function collision2($circle, $collide) {
      var x_1 = $circle.offset().left;
      var y_1 = $circle.offset().top;
      var h_1 = $circle.outerHeight(true);
      var w_1 = $circle.outerWidth(true);
      var b_1 = y_1 + h_1;
      var r_1 = x_1 + w_1;
      var x_2 = $collide.offset().left;
      var y_2 = $collide.offset().top;
      var h_2 = $collide.outerHeight(true);
      var w_2 = $collide.outerWidth(true);
      var b_2 = y_2 + h_2;
      var r_2 = x_2 + w_2;
          
    
      if (b_1 < y_2 || y_1 > b_2 || r_1 < x_2 || x_1 > r_2) {
          return;
        } else {
            if (compass === 2) {
                return moveBy = 0,
                document.getElementById("circle").style.borderColor="blue",
                circle.style.left = parseInt(circle.style.left) - 10 + 'px',
                setTimeout(function(){moveBy=10},500);
            } else if (compass === 3) {
                return moveBy = 0,
                document.getElementById("circle").style.borderColor="blue",
                circle.style.top = parseInt(circle.style.top) + 10 + 'px',
                setTimeout(function(){moveBy=10},500);
            } else if (compass === 1) {
                return moveBy = 0,
                document.getElementById("circle").style.borderColor="blue",
                circle.style.left = parseInt(circle.style.left) + 10 + 'px',
                setTimeout(function(){moveBy=10},500);
            } else if (compass === 4) {
                return moveBy = 0,
                document.getElementById("circle").style.borderColor="blue",
                circle.style.top = parseInt(circle.style.top) - 10 + 'px',
                setTimeout(function(){moveBy=10},500);
            } else {
                return;
            }
        }
}
    
    
    window.setInterval(function() {
    $('#result').text(collision2($('#circle'), $('#collide')));
}, 200);
    
        
      function collision($circle, $box, $camera) {
      var x1 = $circle.offset().left;
      var y1 = $circle.offset().top;
      var h1 = $circle.outerHeight(true);
      var w1 = $circle.outerWidth(true);
      var b1 = y1 + h1;
      var r1 = x1 + w1;
      var x2 = $box.offset().left;
      var y2 = $box.offset().top;
      var h2 = $box.outerHeight(true);
      var w2 = $box.outerWidth(true);
      var b2 = y2 + h2;
      var r2 = x2 + w2;
          
        
          
          
      if (b1 < y2) {
          return document.getElementById("box").style.background="green",//top
          gridtop = gridtop + 5,
          gtop.innerHTML = gridtop,
          document.getElementById("circle").style.top="0",
          document.getElementById("camera").style.top= gridtop + '0%',
          document.getElementById("circle").classList.add('move'),
          document.getElementById("camera").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = pixelSize*2},1000),
          setTimeout(function(){document.getElementById("camera").classList.remove('move')},1000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},1000);
      } else if (y1 > b2) {
          return document.getElementById("box").style.background="pink",//down
          gridtop = gridtop - 5,
          gtop.innerHTML = gridtop,
          document.getElementById("circle").style.top="0",
          document.getElementById("camera").style.top= gridtop + '0%',
          document.getElementById("circle").classList.add('move'),
          document.getElementById("camera").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = pixelSize*2},1000),
          setTimeout(function(){document.getElementById("camera").classList.remove('move')},1000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},1000);
      } else if (r1 < x2) {
          return document.getElementById("box").style.background="red",//left
          gridleft = gridleft + 5,
          gleft.innerHTML = gridleft,
          document.getElementById("circle").style.left="0",
          document.getElementById("camera").style.left= gridleft + '0%',
          document.getElementById("circle").classList.add('move'),
          document.getElementById("camera").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = pixelSize*2},1000),
          setTimeout(function(){document.getElementById("camera").classList.remove('move')},1000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},1000);
      } else if (x1 > r2) {
          return document.getElementById("box").style.background="orange",//right
          gridleft = gridleft - 5,
          gleft.innerHTML = gridleft,
          document.getElementById("circle").style.left="0",
          document.getElementById("camera").style.left= gridleft + '0%',
          document.getElementById("circle").classList.add('move'),
          document.getElementById("camera").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = pixelSize*2},1000),
          setTimeout(function(){document.getElementById("camera").classList.remove('move')},1000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},1000);
      } else {
          return document.getElementById("box").style.background="blue";//none
      }
    }

    
    
    window.setInterval(function() {
    $('#result').text(collision($('#circle'), $('#box'), $('#camera')));
        //direct.innerHTML = gridtop;
}, 200);
    
    var pixelSize = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--pixel-size'));
    
    let moveBy = pixelSize * 2;
    
    var wrap = document.getElementById('compass');
    var compass = 0;
    
    var gtop = document.getElementById('gridtop');
    var gridtop = 0;
    
    var gbottom = document.getElementById('gridbottom');
    var gridbottom = 0;
    
    var gleft = document.getElementById('gridleft');
    var gridleft = 0;
    
    var gright = document.getElementById('gridright');
    var gridright = 0;
    
    window.addEventListener('load', () => {
        circle.style.position = 'absolute';
        circle.style.left = 0;
        circle.style.top = 0;
    });
    
    window.addEventListener('keydown', (e) => {
        switch(e.key) {
            case 'ArrowLeft':
                circle.style.left = parseInt(circle.style.left) - moveBy + 'px';
                wrap.innerHTML = compass;
                compass = 1;
                break;
            case 'ArrowRight':
                circle.style.left = parseInt(circle.style.left) + moveBy + 'px';
                wrap.innerHTML = compass;
                compass = 2;
                break;
            case 'ArrowUp':
                circle.style.top = parseInt(circle.style.top) - moveBy + 'px';
                wrap.innerHTML = compass;
                compass = 3;
                break;
            case 'ArrowDown':
                circle.style.top = parseInt(circle.style.top) + moveBy + 'px';
                wrap.innerHTML = compass;
                compass =4;
                break;
        }
    });
    
  var wrapper = document.getElementById('counter');
  var counter;
  var count = 0;
  
  function start1() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.top = parseInt(circle.style.top) - moveBy + 'px';
      count++;
    }, 5);
  }
  function end1() {
    clearInterval(counter)
  }
    
    
      function start2() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.top = parseInt(circle.style.top) + moveBy + 'px';
      count++;
    }, 5);
  }
  function end2() {
    clearInterval(counter)
  }
    
      function start3() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.left = parseInt(circle.style.left) - moveBy + 'px';
      count++;
    }, 5);
  }
  function end3() {
    clearInterval(counter)
  }
    
      function start4() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.left = parseInt(circle.style.left) + moveBy + 'px';
      count++;
    }, 5);
  }
  function end4() {
    clearInterval(counter)
  }
    
</script>

 
<!--
<style>
    
    
    
</style>
    
<body>
    
    
    
</body>
    
    
<script>
    
    
    
</script>
-->
    
<script>console.log("Copyright 2021");</script>
</html>