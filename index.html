<!DOCTYPE html>

<!--Copyright 2021-->

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content= "ie=edge">
    <title>UN 1.0</title>

    <script src="/src/nipple.js"></script>
    
    <script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    
    
</head>
    

<style>
    body {
        touch-action: manipulation;
  -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
     -khtml-user-select: none; /* Konqueror HTML */
       -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
            user-select: none;
    }
    .container {
        position: fixed;
        border: 1px solid lightgrey;
        width: 100px;
        height: 100px;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
    }
    #circle {
        height: 100px;
        width: 100px;
        background: blueviolet;
        border-radius: 50%;
    }
    .circle.move {
        transition: 2s;
    }
    #box {
        position: absolute;
        width: 90%;
        height: 90%;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        background: slateblue;
        position: fixed;
        opacity: 50%;
    }
    #uppad {
        position: absolute;
        top: 80%;
        left: 80%;
        width: 20px;
        height: 20px;
        border-top: 5px solid #fff;
        border-left: 5px solid #fff;
        border-radius: 2px;
        transform: rotate(45deg);
        margin-top: -25px;
    }
    #dnpad {
        position: absolute;
        top: 80%;
        left: 80%;
        width: 20px;
        height: 20px;
        border-top: 5px solid #fff;
        border-left: 5px solid #fff;
        border-radius: 2px;
        transform: rotate(225deg);
        margin-top: 25px;
    }
    #lpad {
        position: absolute;
        top: 80%;
        left: 80%;
        width: 20px;
        height: 20px;
        border-top: 5px solid #fff;
        border-left: 5px solid #fff;
        border-radius: 2px;
        transform: rotate(-45deg);
        margin-left: -25px;
    }
    #rpad {
        position: absolute;
        top: 80%;
        left: 80%;
        width: 20px;
        height: 20px;
        border-top: 5px solid #fff;
        border-left: 5px solid #fff;
        border-radius: 2px;
        transform: rotate(135deg);
        margin-left: 25px;
    }
    button {
        background: none;
        border: none;
    }
    .dpad {
        position: fixed;
        width: 100px;
        height: 100px;
        background-color: darkgrey;
        border: 1px solid #fff;
        mix-blend-mode: difference;
        opacity: 25%;
        top: 80%;
        left: 80%;
        transform: translate(-50%,-50%) rotate(45deg);
        margin-left: 10px;
        margin-top: 10px;
    }
    .dpad:hover {
        border: 5px solid #fff;
        transition: .3s;
    }
</style>
    
<body>

    <div class="container">
    <div class="circle" id="circle"></div>
    </div>
    
    
    <div class="box" id="box"></div>
    

    <div class="dpad"></div>
    
    
<button id="uppad" onmousedown="start1()" onmouseup="end1()"></button>
<button id="dnpad" onmousedown="start2()" onmouseup="end2()"></button>
<button id="lpad" onmousedown="start3()" onmouseup="end3()"></button>
<button id="rpad" onmousedown="start4()" onmouseup="end4()"></button>
    
<p id="counter" style="color: transparent;"></p>
    
</body>
    
    
<script>
    var manager = nipplejs.create(options);
    
        var dynamic = nipplejs.create({
        zone: document.getElementById('dynamic'),
        color: 'red'
    });
    
</script>
    
<script>
    
    var circle = document.getElementById("circle");
    var box = document.getElementById("box");
        
      function collision($circle, $box) {
      var x1 = $circle.offset().left;
      var y1 = $circle.offset().top;
      var h1 = $circle.outerHeight(true);
      var w1 = $circle.outerWidth(true);
      var b1 = y1 + h1;
      var r1 = x1 + w1;
      var x2 = $box.offset().left;
      var y2 = $box.offset().top;
      var h2 = $box.outerHeight(true);
      var w2 = $box.outerWidth(true);
      var b2 = y2 + h2;
      var r2 = x2 + w2;
          
          
      if (b1 < y2) {
          return document.getElementById("box").style.background="green",//top
          document.getElementById("circle").style.top="0",
          document.getElementById("circle").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = 10},2000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},2000);
      } else if (y1 > b2) {
          return document.getElementById("box").style.background="pink",//down
          document.getElementById("circle").style.top="0",
          document.getElementById("circle").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = 10},2000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},2000);
      } else if (r1 < x2) {
          return document.getElementById("box").style.background="red",//left
          document.getElementById("circle").style.left="0",
          document.getElementById("circle").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = 10},2000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},2000);
      } else if (x1 > r2) {
          return document.getElementById("box").style.background="orange",//right
          document.getElementById("circle").style.left="0",
          document.getElementById("circle").classList.add('move'),
          moveBy = 0,
          setTimeout(function(){moveBy = 10},2000),
          setTimeout(function(){document.getElementById("circle").classList.remove('move')},2000);
      } else {
          return document.getElementById("box").style.background="blue";//none
      }
    }

      //if ((b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) && (y1 < 50)) {
          //return document.getElementById("box").style.background="green";
      //} else if ((b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) && (x1 < 50)) {
          //return document.getElementById("box").style.background="pink";
      //} else if ((b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) && (y2 < y1)) {
          //return document.getElementById("box").style.background="red";
      //} else if ((b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) && (x1 < c1)) {
          //return document.getElementById("box").style.background="orange";
      //} else {
          //return document.getElementById("box").style.background="blue";
      //}
    //}x
          
      //if (b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2) return //document.getElementById("box").style.background="red";
          //return document.getElementById("box").style.background="blue";
    //}x
    
    window.setInterval(function() {
    $('#result').text(collision($('#circle'), $('#box')));
}, 200);
    
    let moveBy = 10;
    
    window.addEventListener('load', () => {
        circle.style.position = 'absolute';
        circle.style.left = 0;
        circle.style.top = 0;
    });
    
    window.addEventListener('keydown', (e) => {
        switch(e.key) {
            case 'ArrowLeft':
                circle.style.left = parseInt(circle.style.left) - moveBy + 'px';
                break;
            case 'ArrowRight':
                circle.style.left = parseInt(circle.style.left) + moveBy + 'px';
                break;
            case 'ArrowUp':
                circle.style.top = parseInt(circle.style.top) - moveBy + 'px';
                break;
            case 'ArrowDown':
                circle.style.top = parseInt(circle.style.top) + moveBy + 'px';
                break;
        }
    });
    
  var wrapper = document.getElementById('counter');
  var counter;
  var count = 0;
  
  function start1() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.top = parseInt(circle.style.top) - moveBy + 'px';
      count++;
    }, 50);
  }
  function end1() {
    clearInterval(counter)
  }
    
    
      function start2() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.top = parseInt(circle.style.top) + moveBy + 'px';
      count++;
    }, 50);
  }
  function end2() {
    clearInterval(counter)
  }
    
      function start3() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.left = parseInt(circle.style.left) - moveBy + 'px';
      count++;
    }, 50);
  }
  function end3() {
    clearInterval(counter)
  }
    
      function start4() {
    counter = setInterval(function() {
      wrapper.innerHTML = count;
      circle.style.left = parseInt(circle.style.left) + moveBy + 'px';
      count++;
    }, 50);
  }
  function end4() {
    clearInterval(counter)
  }
    
</script>

 
<!--
<style>
    
    
    
</style>
    
<body>
    
    
    
</body>
    
    
<script>
    
    
    
</script>
-->
    
<script>console.log("Copyright 2021");</script>
</html>